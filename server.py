
import socket
import sys
import threading

def atender(socket):
    mensaje = socket.recv(1024)
    print(mensaje)


servidor = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
servidor.bind(('', int(sys.argv[1])))  # hace el bind en cualquier interfaz disponible        
servidor.listen(5)
while True:
    print('Esperando cliente nuevo')
    conn, addr = servidor.accept()
    threading.Thread(target=atender, args=(conn, )).start()
